<section class="w-full flex h-fit justify-center">
    @if(authService.isLoggedIn$ | async){
        <div class="flex flex-col w-full center backdrop-blur-sm p-5">
            <div class="flex flex-row w-full h-fit gap-10 justify-center items-center">
                <div class="flex-none">
                    <div class="w-60 h-60">
                        <img [src]="(authService.user$ | async)?.pfp || 'assets/art/DEFAULT_PFP.svg'" class="w-full h-full object-cover rounded-full border-2 border-[oklch(0.53_0.19_351.02)] shadow-sm bg-white">
                    </div>
                </div>
                <div class="flex-1">
                    <div class="w-full min-w-100 h-60 flex items-center justify-center">
                        <h1 class="text-5xl font-[Fixture] uppercase tracking-wide text-[oklch(0.27_0.02_267.98)] italic">
                            {{ (authService.user$ | async)?.display_name || 'USER' }}
                        </h1>
                    </div>
                </div>
            </div>

            <br>
            <hr>
            <br>

            <div class="flex flex-row w-full h-fit gap-10 justify-center items-center">
                <div class="h-full w-[60%] flex flex-col gap-3">
                    <div class="w-full h-fit flex flex-row items-center gap-5">
                        <label class="font-[IndustryBaby] text-xl w-45 text-[oklch(0.27_0.02_267.98)]">DISPLAY NAME: </label>
                        <input [formControl]="displayName" class="font-[IndustryBaby] border-2 h-8 w-full max-w-50 hover:border-[oklch(0.53_0.19_351.02)] focus:outline-none">
                    </div>
                    <div class="w-full h-fit flex flex-row items-center gap-5">
                        <label class="font-[IndustryBaby] text-xl w-45 text-[oklch(0.27_0.02_267.98)]">PROFILE PICTURE: </label>
                        <input type="file" (change)="onFileSelected($event)" accept="image/*" class="font-[IndustryBaby] border-2 h-8 w-full max-w-50 hover:cursor-pointer transition-all ease-in-out hover:text-[oklch(0.53_0.19_351.02)]">
                    </div>
                </div>
                <div class="h-full flex items-center">
                    <button [disabled]="!displayName.value && !selectedFile || isLoading" (click)='onSave()' class="font-[Fixture] bg-[oklch(0.53_0.19_351.02)] italic shadow-xl px-10 py-4 text-2xl text-[oklch(0.27_0.02_267.98)] transition-all ease-in-out hover:scale-105 hover:text-[oklch(0.53_0.19_351.02)] hover:bg-[oklch(0.27_0.02_267.98)] hover:cursor-pointer hover:shadow-2xl">
                            {{ isLoading ? 'SAVING...' : 'SAVE' }}
                    </button>
                </div>
            </div>

            <br>
            <hr>
            <br>

            <div class="flex flex-row w-full h-fit gap-10 justify-center items-center">
                <div class="flex flex-col w-full h-full justify-center items-center gap-3">
                    <div class="italic text-2xl font-[Fixture] tracking-wider text-[oklch(0.27_0.02_267.98)]">
                        <h1>POINTS</h1>
                    </div>
                    <div class="text-3xl font-[Fixture] tracking-wider text-[oklch(0.53_0.19_351.02)]">
                        <h1>
                            {{ (authService.user$ | async)?.pickem_points }}
                        </h1>
                    </div>
                </div>
                <div class="flex flex-col w-full h-full justify-center items-center gap-3">
                    <div class="italic text-2xl font-[Fixture] tracking-wider text-[oklch(0.27_0.02_267.98)]">
                        <h1>LOSSES</h1>
                    </div>
                    <div class="text-3xl font-[Fixture] tracking-wider text-[oklch(0.53_0.19_351.02)]">
                        <h1>
                            {{ (authService.user$ | async)?.pickem_losses }}
                        </h1>
                    </div>
                </div>
                <div class="flex flex-col w-full h-full justify-center items-center gap-3">
                    <div class="italic text-2xl font-[Fixture] tracking-wider text-[oklch(0.27_0.02_267.98)]">
                        <h1>WINS</h1>
                    </div>
                    <div class="text-3xl font-[Fixture] tracking-wider text-[oklch(0.53_0.19_351.02)]">
                        <h1>
                            {{ (authService.user$ | async)?.pickem_wins }}
                        </h1>
                    </div>
                </div>
                <div class="flex flex-col w-full h-full justify-center items-center gap-3">
                    <div class="italic text-2xl font-[Fixture] tracking-wider text-[oklch(0.27_0.02_267.98)]">
                        <h1>W/L %</h1>
                    </div>
                    <div class="text-3xl font-[Fixture] tracking-wider text-[oklch(0.53_0.19_351.02)]">
                        <h1>
                            {{ (authService.user$ | async)?.win_percentage }}%
                        </h1>
                    </div>
                </div>
            </div>
        </div>
    }
    @else {
        <h1 class="font-[Fixture] text-5xl">
            HOW DID YOU GET HERE???
        </h1>
    }
    
</section>

